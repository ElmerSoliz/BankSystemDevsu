<div>
  <button (click)="toggleForm()">
    {{ showForm ? 'Cancelar' : 'Nuevo Movimiento' }}
  </button>

  <app-movement-form 
    *ngIf="showForm" 
    [accountId]="accountId" 
    (saved)="onSaved($event)">
  </app-movement-form>

  <table *ngIf="movements.length > 0">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Tipo</th>
        <th>Monto</th>
        <th>Saldo despu√©s</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let mov of movements">
        <td>{{ mov.dateUtc | date:'short' }}</td>
        <td>{{ mov.movementType }}</td>
        <td>{{ mov.amount }}</td>
        <td>{{ mov.balanceAfterTransaction }}</td>
      </tr>
    </tbody>
  </table>

  <p *ngIf="!loading && movements.length === 0">No hay movimientos para esta cuenta.</p>
  <div *ngIf="error">{{ error }}</div>
</div>
